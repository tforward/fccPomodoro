!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function i(t=null){const e=Object.create(t);return e.create=function(t,n){this.elem=document.createElement(n),this.elem.id=t,this.id=t,e.gc(["init","create"])},e.init=function(t){this.id=t,this.elem=document.getElementById(this.id),null===this.elem&&console.log(`Init Error: No element with id "${this.id}"`),e.gc(["init","create"])},e.gc=function(t){t.forEach(t=>{delete e[t]}),delete e.gc},e}function s(t,e,n=null){const i=[];let s;return t.forEach(t=>{(s=null===n?e():e(n())).init(t),i.push(s)}),i}n.r(e),n(3);const o=n(1),r=Object.create(null),a=function(){const t=Object.create(null);return t.init=function(){this.obj=Object.create(null),delete t.init},t.subscribe=function(t){this.obj[t.id]=t},t.addItems=function(e){e.forEach(e=>t.subscribe(e))},t.unsubscribe=function(t){if("string"==typeof t){const e=t;delete this.obj[e]}else t.forEach(t=>delete this.obj[t])},t.broadcast=function(t,...e){const n=Object.keys(this.obj);for(let i=0;i<n.length;i+=1)this.obj[n[i]][t](...e)},t}();function c(t){_(v())}function u(t){let e=t;return e>=60?e:e+=1}function l(t){let e=t;return e<=1?e:e-=1}function m(){if(void 0!==a.timer){!function(){const t=document.getElementById("beep");t.pause(),t.currentTime=0}(),a.timer.stop(),a.obj["time-left"].elem.textContent=v();const t=a.obj.start_stop;t.toggle=-1,t.elem.className="fas fa-play-circle",g(0,0)}}function h(t){g(60/(t/(t-.001*a.timer.final_time/60)),0)}function f(t){a.obj["break-length"].elem.textContent=t}function d(t){a.obj["session-length"].elem.textContent=t}function p(){return parseInt(a.obj["break-length"].elem.textContent,10)}function b(){return parseInt(a.obj["session-length"].elem.textContent,10)}function g(t,e){var n,i;n=t,document.documentElement.style.setProperty("--pos",`${n}vmin`),i=e,document.documentElement.style.setProperty("--time",`${i}s`)}function y(t=null){const e=Object.create(t);return e.setup=function(){this.toggle=-1},e}function v(){return`${b()}:00`}function _(t){const e=`${t}`,n="00000".substring(0,"00000".length-e.length)+e;a.obj["time-left"].elem.textContent=n}function j(){_(a.timer.msToTimecode(a.timer.lap()).substring(3,8))}function w(){const t=a.obj["timer-label"];1===a.state?(t.elem.textContent="Break",a.state=0,T(p()),a.obj.circleTime.elem.className="break"):0===a.state&&(t.elem.textContent="Session",a.obj.circleTime.elem.className="working",a.state=1,T(b()))}function T(t){const e=6e4*t;a.timer=k(),a.timer.start(e),document.getElementById("beep").play(),1===a.state?g(60,60*b()):0===a.state&&g(0,60*p()),a.obj.start_stop.toggle=1}function k(){return new o({countdown:!0,interval:250,callback:j,complete:w})}r.initApplication=function(){a.init(),function(){const t=s(["timer-label","break-length","session-length","time-left","circleTime"],i),e=s(["break-decrement","break-increment","session-decrement","session-increment","start_stop","reset"],y,i);e.forEach(t=>t.setup()),a.addItems(t),a.addItems(e)}();const t=function(){const t=Object.create(null);return t.initEvent=function(t,e,n){this.elem=document.getElementById(t),this.eventType=e,this.args=n,Array.isArray(n)&&(this.args=Object.assign({},n))},t.addEvent=function(t,e){this.boundFunc=t.bind(this.elem,this.args),this.boundOptions=e,this.elem.addEventListener(this.eventType,this.boundFunc,this.boundOptions)},t.removeEvent=function(){this.elem.removeEventListener(this.eventType,this.boundFunc,this.boundOptions)},t}();t.initEvent("eventSandbox","click",{tags:["BUTTON","I"]}),t.addEvent(function(t,e){const n=function(t,e){if(t.target!==t.currentTarget&&e.indexOf(t.target.tagName)>-1)return t.target.id}(e,t.tags);void 0!==n&&r.main(n)}),a.state=-1},r.main=function(t){const e=a.obj[t];let n=b(),i=p();"start_stop"===t?function(t){const e=t;if(-1===e.toggle){a.timer=k(),e.toggle=1,e.elem.className="fas fa-pause-circle";const t=function(){const t=v(),e=a.timer.timeToMS(t);return g(60,60*a.obj["session-length"].elem.textContent),e}();a.timer.start(t),a.state=1}else 1===e.toggle?(e.toggle=0,a.timer.pause(),e.elem.className="fas fa-play-circle",1===a.state?h(b()):0===a.state&&h(p())):(e.toggle=1,a.timer.pause(),e.elem.className="fas fa-pause-circle",g(60,.001*a.timer.final_time))}(e):"session-increment"===t?(d(n=u(n)),c(),m()):"session-decrement"===t?(d(n=l(n)),c(),m()):"break-increment"===t?f(i=u(i)):"break-decrement"===t?f(i=l(i)):"reset"===t&&(m(),d(25),c(),f(5))},document.onreadystatechange=function(){"complete"===document.readyState&&r.initApplication()}},function(t,e,n){var i,s;Date.now=Date.now||function(){return+new Date},"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(t){var e=Array.prototype.slice.call(arguments,1),n=this;return function(){return e.push.apply(e,arguments),n.apply(t,e)}}),void 0===(s="function"==typeof(i=function(){function t(){if(this.time+=this.interval,this.countdown&&this.duration_ms-this.time<0)return this.final_time=0,this.go=!1,this.callback(this),clearTimeout(this.timeout),void this.complete(this);this.callback(this);var e=Date.now()-this.start_time-this.time,n=e>0?this.interval-e:this.interval;n<=0?(this.missed_ticks=Math.floor(Math.abs(n)/this.interval),this.time+=this.missed_ticks*this.interval,this.go&&t.call(this)):this.go&&(this.timeout=setTimeout(t.bind(this),n))}function e(e){this.duration_ms=e,this.start_time=Date.now(),this.time=0,this.go=!0,t.call(this)}function n(e){this.start_time=e||Date.now(),this.time=0,this.go=!0,t.call(this)}var i=/^\s*(\+|-)?\d+\s*$/,s=/^(\d{1,2}):(\d{2})$/,o=/^(\d{1,2}):(\d{2})(?::|\.)(\d{2,3})$/,r=/^(\d{4})-([0-1]\d)-([0-3]\d)(?:\s|T)(\d{2}):(\d{2}):(\d{2})(?:\.(\d{3})Z?)?$/,a=function(t){if(t=t||{},!(this instanceof a))return new a(t);a.instances=(a.instances||0)+1,this.go=!1,this.timeout=null,this.missed_ticks=null,this.interval=t.interval||10,this.countdown=t.countdown||!1,this.start_time=0,this.pause_time=0,this.final_time=0,this.duration_ms=0,this.time=0,this.callback=t.callback||function(){},this.complete=t.complete||function(){}};return a.prototype.reset=function(){if(this.countdown)return!1;this.stop(),this.start_time=0,this.time=0},a.prototype.start=function(t){if(this.go)return!1;t=t?this.timeToMS(t):0,this.start_time=t,this.pause_time=0,this.countdown?e.call(this,t):n.call(this,Date.now()-t)},a.prototype.stop=function(){this.pause_time=this.lap(),this.go=!1,clearTimeout(this.timeout),this.countdown?this.final_time=this.duration_ms-this.time:this.final_time=Date.now()-this.start_time},a.prototype.pause=function(){this.go?(this.pause_time=this.lap(),this.stop()):this.pause_time&&(this.countdown?e.call(this,this.pause_time):n.call(this,Date.now()-this.pause_time),this.pause_time=0)},a.prototype.lap=function(){return this.go?this.countdown?this.duration_ms-(Date.now()-this.start_time):Date.now()-this.start_time:this.pause_time||this.final_time},a.prototype.msToTime=function(t){var e=this.zeroPad(t%1e3,3),n=this.zeroPad(Math.floor(t/1e3%60),2);return this.zeroPad(Math.floor(t/6e4%60),2)+":"+n+"."+e},a.prototype.zeroPad=function(t,e){for(t=t.toString();t.length<e;)t="0"+t;return t},a.prototype.msToTimecode=function(t,e){var n=this.zeroPad(Math.floor(t/1e3%60),2),i=this.zeroPad(Math.floor(t/6e4%60),2);return this.zeroPad(Math.floor(t/36e5),2)+":"+i+":"+n+(e?":"+this.zeroPad(Math.floor(t%1e3),3):"")},a.prototype.timeToMS=function(t){if(i.test(String(t)))return t;var e,n,a,c,u=new Date;return s.test(t)?(n=t.split(":"),e=6e4*parseInt(n[0],10),e+=1e3*parseInt(n[1],10)):(a=t.match(o))?3==a[3].length||parseInt(a[3],10)>59?(e=6e4*parseInt(a[1],10),e+=1e3*parseInt(a[2],10),e+=parseInt(a[3],10)):(e=36e5*parseInt(a[1],10),e+=6e4*parseInt(a[2],10),e+=1e3*parseInt(a[3],10)):r.test(t)?(c=new Date,u=new Date,a=t.match(r),c.setYear(a[1]),c.setMonth(a[2]),c.setDate(a[3]),c.setHours(a[4]),c.setMinutes(a[5]),c.setSeconds(a[6]),void 0!==a[7]&&c.setMilliseconds(a[7]),e=Math.max(0,c.getTime()-u.getTime())):(u=new Date,e=Date.parse(t),e=isNaN(e)?0:Math.max(0,e-u.getTime())),e},a})?i.call(e,n,e,t):i)||(t.exports=s)},,function(t,e,n){}]);
//# sourceMappingURL=app.bundle.js.map